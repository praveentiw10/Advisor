<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ADVISOR - Elite Trading Terminal</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

    <style>
        :root {
            --bg-gradient: radial-gradient(circle at 70% 30%, #1e1b4b 0%, #020617 100%);
            --sidebar-bg: #030712;
            --bg-card: rgba(15, 23, 42, 0.6);
            --accent: #22d3ee;
            --text-main: #f8fafc;
            --text-muted: #94a3b8;
            --green: #4ade80;
            --red: #fb7185;
            --gold: #fbbf24;
            --border-line: rgba(255, 255, 255, 0.1);
            --card-item-bg: rgba(255, 255, 255, 0.05);
            --toggle-bg: #115e6e;
        }

        [data-theme="light"] {
            --bg-gradient: radial-gradient(circle at 70% 30%, #f1f5f9 0%, #e2e8f0 100%);
            --sidebar-bg: #ffffff;
            --bg-card: rgba(255, 255, 255, 0.7);
            --accent: #0891b2;
            --text-main: #0f172a;
            --text-muted: #64748b;
            --border-line: rgba(0, 0, 0, 0.1);
            --card-item-bg: rgba(0, 0, 0, 0.05);
        }

        ::-webkit-scrollbar {
            width: 6px;
        }

        ::-webkit-scrollbar-track {
            background: #020617;
        }

        ::-webkit-scrollbar-thumb {
            background: #4b5563;
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #6b7280;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', 'Segoe UI', sans-serif;
            transition: background 0.3s, color 0.3s;
        }

        body {
            display: flex;
            height: 100vh;
            background: var(--bg-gradient);
            color: var(--text-main);
            overflow: hidden;
        }

        .mobile-header {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 70px;
            background: var(--sidebar-bg);
            border-bottom: 1px solid var(--border-line);
            padding: 0 25px;
            align-items: center;
            justify-content: space-between;
            z-index: 2500;
        }

        .mobile-nav-toggle {
            background: transparent;
            color: var(--accent);
            border: none;
            cursor: pointer;
            font-size: 1.5rem;
            padding: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
            transition: all 0.2s ease;
        }

        .sidebar {
            width: 280px;
            background: var(--sidebar-bg);
            padding: 30px 20px;
            border-right: 1px solid var(--border-line);
            display: flex;
            flex-direction: column;
            z-index: 2000;
            height: 100vh;
            overflow-y: auto;
            position: relative;
            flex-shrink: 0;
        }

        .logo {
            font-size: 24px;
            font-weight: 900;
            margin-bottom: 30px;
            color: var(--accent);
            letter-spacing: 2px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .profile-section {
            text-align: center;
            padding-bottom: 25px;
            border-bottom: 1px solid var(--border-line);
            margin-bottom: 20px;
        }

        .profile-img {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            border: 2px solid var(--accent);
            padding: 3px;
            object-fit: cover;
        }

        .nav {
            list-style: none;
        }

        .nav-label {
            color: var(--text-muted);
            font-size: 10px;
            font-weight: 800;
            text-transform: uppercase;
            margin: 20px 0 8px 10px;
            letter-spacing: 1px;
        }

        .nav li {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 15px;
            border-radius: 10px;
            margin-bottom: 4px;
            cursor: pointer;
            color: var(--text-muted);
            font-size: 14px;
        }

        .nav li:hover,
        .nav li.active {
            background: rgba(34, 211, 238, 0.1);
            color: var(--accent);
        }

        .nav li.active {
            font-weight: bold;
            border-left: 3px solid var(--accent);
            border-radius: 0 10px 10px 0;
        }

        .main {
            flex: 1;
            padding: 30px 40px;
            overflow-y: auto;
            height: 100vh;
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }

        .server-status {
            background: rgba(74, 222, 128, 0.1);
            color: var(--green);
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 11px;
            font-weight: bold;
            white-space: nowrap;
        }

        .card-box {
            background: var(--bg-card);
            padding: 20px;
            border-radius: 18px;
            border: 1px solid var(--border-line);
            backdrop-filter: blur(15px);
            margin-bottom: 25px;
        }

        .live-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 25px;
        }

        .stat-val {
            font-size: 24px;
            font-weight: bold;
            margin: 8px 0;
        }


        .page-content {
            display: none;
        }

        .page-content.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(5px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @media (max-width: 768px) {
            body {
                flex-direction: column;
            }

            .mobile-header {
                display: flex;
            }

            .sidebar {
                position: fixed;
                left: -100%;
                top: 0;
                bottom: 0;
                width: 280px;
                transition: left 0.3s;
            }

            .sidebar.open {
                left: 0;
            }

            .main {
                padding: 90px 15px 20px 15px;
            }
        }

        .sidebar-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1900;
        }

        .sidebar-overlay.active {
            display: block;
        }
    </style>
</head>

<body data-theme="dark">

    <div class="sidebar-overlay" id="overlay" onclick="toggleSidebar()"></div>

    <header class="mobile-header">
        <div class="logo" style="margin-bottom:0;"><i class="fa-solid fa-bolt-lightning"></i> ADVISOR</div>
        <button class="mobile-nav-toggle" id="menuBtn" onclick="toggleSidebar()">
            <i class="fa-solid fa-bars"></i>
        </button>
    </header>

    <aside class="sidebar" id="sidebar">
        <div class="logo"><i class="fa-solid fa-bolt-lightning"></i> ADVISOR</div>

        <div class="profile-section">
            <img src="https://i.pravatar.cc/150?u=b" class="profile-img" alt="Profile">
            <h4 style="margin-top: 10px;">Chris Hemsworth</h4>
            <p style="color:var(--gold); font-weight: bold; font-size: 12px;"><i class="fa-solid fa-crown"></i> Elite
                Account</p>
        </div>

        <p class="nav-label">Terminal</p>
        <ul class="nav">
            <li class="active" onclick="showPage('overview', this)"><i class="fa-solid fa-grip"></i> Overview</li>
            <li onclick="showPage('market', this)"><i class="fa-solid fa-chart-line"></i> Market Terminal</li>
            <li onclick="showPage('portfolios', this)"><i class="fa-solid fa-briefcase"></i> Portfolios</li>
        </ul>

        <p class="nav-label">Reports</p>
        <ul class="nav">
            <li onclick="showPage('history', this)"><i class="fa-solid fa-clock-rotate-left"></i> History Log</li>
            <li onclick="showPage('tax', this)"><i class="fa-solid fa-file-invoice-dollar"></i> Tax Reports</li>
        </ul>

        <p class="nav-label">Account</p>
        <ul class="nav">
            <li onclick="showPage('settings', this)"><i class="fa-solid fa-gear"></i> Settings</li>
        </ul>

        <div style="margin-top: auto; padding-top: 20px;">
            <button class="theme-switch-btn"
                style="width:100%; padding:12px; border-radius:12px; border:1px solid var(--border-line); background:var(--card-item-bg); color:var(--text-main); cursor:pointer; display:flex; align-items:center; justify-content:center; gap:10px;"
                onclick="toggleTheme()">
                <i id="theme-icon" class="fa-solid fa-moon"></i>
                <span id="theme-text">Dark Mode</span>
            </button>
            <a href="/" class="logout-box"
                style="background:rgba(251,113,133,0.1); border:1px solid var(--red); color:var(--red); padding:12px; border-radius:12px; text-align:center; text-decoration:none; font-size:13px; font-weight:700; display:flex; align-items:center; justify-content:center; gap:10px; margin-top:10px;">
                <i class="fa-solid fa-power-off"></i> LOGOUT
            </a>
        </div>
    </aside>

    <main class="main">
        <div class="header-container">
            <div>
                <h2 id="page-title" style="font-size: 1.5rem;">Portfolio Analytics</h2>
                <p style="color:var(--text-muted); font-size:13px;">Welcome, Chris. Markets are <span
                        style="color:var(--accent); font-weight:bold;">Live.</span></p>
            </div>
            <div class="server-status" id="server-status">● LIVE STATUS: CONNECTING...</div>
        </div>

        <div id="overview-page" class="page-content active">
            <div class="live-grid">
                <div class="card-box">
                    <p style="font-size:12px; color:var(--text-muted)">AAPL</p>
                    <div class="stat-val" id="price-AAPL">$---</div>
                    <p id="change-AAPL">--%</p>
                </div>
                <div class="card-box">
                    <p style="font-size:12px; color:var(--text-muted)">TSLA</p>
                    <div class="stat-val" id="price-TSLA">$---</div>
                    <p id="change-TSLA">--%</p>
                </div>
                <div class="card-box">
                    <p style="font-size:12px; color:var(--text-muted)">NVDA</p>
                    <div class="stat-val" id="price-NVDA">$---</div>
                    <p id="change-NVDA">--%</p>
                </div>
                <div class="card-box">
                    <p style="font-size:12px; color:var(--text-muted)">BTC</p>
                    <div class="stat-val" id="price-BTC">$---</div>
                    <p id="change-BTC">--%</p>
                </div>
            </div>
            <div class="card-box" style="padding:0; overflow:hidden; min-height: 400px;">
                <div id="tradingview_chart_overview" style="height:450px; width:100%;"></div>
            </div>
        </div>

        <div id="market-page" class="page-content">
            <div class="card-box" style="padding:0; overflow:hidden; height: 600px;">
                <div id="tradingview_chart_full" style="height:100%; width:100%;"></div>
            </div>
        </div>

        <div id="portfolios-page" class="page-content">
            <div class="card-box">
                <h3>Asset Allocation</h3>
                <p style="color:var(--text-muted); margin-bottom: 20px;">Detailed breakdown of your holdings.</p>
                <div style="display: flex; flex-direction: column; gap: 10px;">
                    <div
                        style="background:var(--card-item-bg); padding: 15px; border-radius: 10px; display: flex; justify-content: space-between;">
                        <span>Technology Stocks</span>
                        <span style="color:var(--accent)">65%</span>
                    </div>
                    <div
                        style="background:var(--card-item-bg); padding: 15px; border-radius: 10px; display: flex; justify-content: space-between;">
                        <span>Cryptocurrency</span>
                        <span style="color:var(--accent)">25%</span>
                    </div>
                    <div
                        style="background:var(--card-item-bg); padding: 15px; border-radius: 10px; display: flex; justify-content: space-between;">
                        <span>Cash & Fixed Income</span>
                        <span style="color:var(--accent)">10%</span>
                    </div>
                </div>
            </div>
        </div>

        <div id="history-page" class="page-content">
            <div class="card-box">
                <h3>Recent Trades</h3>
                <table
                    style="width: 100%; border-collapse: collapse; margin-top: 15px; color: var(--text-main); font-size: 14px;">
                    <tr
                        style="border-bottom: 1px solid var(--border-line); text-align: left; color: var(--text-muted);">
                        <th style="padding: 10px;">Asset</th>
                        <th style="padding: 10px;">Type</th>
                        <th style="padding: 10px;">Price</th>
                        <th style="padding: 10px;">Status</th>
                    </tr>
                    <tr>
                        <td style="padding: 15px 10px;">BTC</td>
                        <td style="padding: 15px 10px; color: var(--green);">BUY</td>
                        <td style="padding: 15px 10px;">$43,200.50</td>
                        <td style="padding: 15px 10px;"><span
                                style="background:var(--green); color:black; padding: 2px 8px; border-radius: 4px; font-size: 11px;">FILLED</span>
                        </td>
                    </tr>
                    <tr>
                        <td style="padding: 15px 10px;">AAPL</td>
                        <td style="padding: 15px 10px; color: var(--red);">SELL</td>
                        <td style="padding: 15px 10px;">$189.12</td>
                        <td style="padding: 15px 10px;"><span
                                style="background:var(--green); color:black; padding: 2px 8px; border-radius: 4px; font-size: 11px;">FILLED</span>
                        </td>
                    </tr>
                </table>
            </div>
        </div>

        <div id="tax-page" class="page-content">
            <div class="card-box">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                    <h3>FY 2025-26 Tax Summary</h3>
                    <button
                        style="background:var(--accent); border:none; color:#000; padding:8px 15px; border-radius:8px; font-weight:700; cursor:pointer;">
                        <i class="fa-solid fa-download"></i> Export PDF
                    </button>
                </div>

                <table style="width: 100%; border-collapse: collapse; font-size: 14px; text-align: left;">
                    <thead>
                        <tr style="border-bottom: 1px solid var(--border-line); color: var(--text-muted);">
                            <th style="padding: 12px;">Asset Class</th>
                            <th style="padding: 12px;">Turnover</th>
                            <th style="padding: 12px;">Realized P&L</th>
                            <th style="padding: 12px;">Tax Liability</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr style="border-bottom: 1px solid var(--border-line);">
                            <td style="padding: 15px;">Equity (LTCG)</td>
                            <td style="padding: 15px;">$450,200</td>
                            <td style="padding: 15px; color: var(--green);">+$42,000</td>
                            <td style="padding: 15px;">$4,200 (10%)</td>
                        </tr>
                        <tr style="border-bottom: 1px solid var(--border-line);">
                            <td style="padding: 15px;">Equity (STCG)</td>
                            <td style="padding: 15px;">$120,500</td>
                            <td style="padding: 15px; color: var(--green);">+$12,300</td>
                            <td style="padding: 15px;">$1,845 (15%)</td>
                        </tr>
                        <tr style="border-bottom: 1px solid var(--border-line);">
                            <td style="padding: 15px;">Intraday/F&O</td>
                            <td style="padding: 15px;">$890,000</td>
                            <td style="padding: 15px; color: var(--red);">-$2,100</td>
                            <td style="padding: 15px;">$0 (Set-off)</td>
                        </tr>
                        <tr>
                            <td style="padding: 15px;">Crypto/VDA</td>
                            <td style="padding: 15px;">$35,000</td>
                            <td style="padding: 15px; color: var(--green);">+$5,400</td>
                            <td style="padding: 15px;">$1,620 (30%)</td>
                        </tr>
                    </tbody>
                </table>

                <div
                    style="margin-top: 25px; padding: 20px; background: var(--card-item-bg); border-radius: 12px; border: 1px dashed var(--border-line);">
                    <p style="font-size: 13px; color: var(--text-muted);">
                        <i class="fa-solid fa-circle-info"></i> <strong>Note:</strong> Tax liabilities are estimated
                        based on standard rates. This report accounts for STT and brokerage deductions.
                    </p>
                </div>
            </div>
        </div>

        <div id="settings-page" class="page-content">
            <div class="card-box">
                <h3>Terminal Settings</h3>
                <div style="margin-top: 20px;">
                    <p style="margin-bottom: 10px;">API Integration: <span style="color:var(--green)">Active</span></p>
                    <p style="margin-bottom: 10px;">Default Currency: <span style="color:var(--accent)">USD</span></p>
                </div>
            </div>
        </div>

    </main>

    <script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
    <script>
        const API_KEY = 'd60plgpr01qto1rdvorgd60plgpr01qto1rdvos0';
        const symbols = ['AAPL', 'TSLA', 'NVDA', 'BTC'];


        function showPage(pageId, element) {

            document.querySelectorAll('.nav li').forEach(li => li.classList.remove('active'));
            element.classList.add('active');


            document.querySelectorAll('.page-content').forEach(page => page.classList.remove('active'));
            document.getElementById(pageId + '-page').classList.add('active');


            const titles = { 'overview': 'Portfolio Analytics', 'market': 'Live Market Terminal', 'portfolios': 'Active Holdings', 'history': 'Trade History', 'tax': 'Tax Center', 'settings': 'System Settings' };
            document.getElementById('page-title').innerText = titles[pageId];


            if (window.innerWidth <= 768) toggleSidebar();
        }


        async function fetchRealPrices() {
            const statusEl = document.getElementById('server-status');
            for (const sym of symbols) {
                try {
                    const fetchSym = sym === 'BTC' ? 'BINANCE:BTCUSDT' : sym;
                    const response = await fetch(`https://finnhub.io/api/v1/quote?symbol=${fetchSym}&token=${API_KEY}`);
                    const data = await response.json();
                    if (data.c) {
                        document.getElementById(`price-${sym}`).innerText = `$${data.c.toLocaleString(undefined, { minimumFractionDigits: 2 })}`;
                        const change = data.dp;
                        const changeEl = document.getElementById(`change-${sym}`);
                        changeEl.innerText = `${change >= 0 ? '+' : ''}${change.toFixed(2)}%`;
                        changeEl.style.color = change >= 0 ? 'var(--green)' : 'var(--red)';
                        statusEl.innerText = " ● LIVE STATUS : CONNECTED ";
                        statusEl.style.color = "var(--green)";
                    }
                } catch (e) { statusEl.innerText = "● LIVE STATUS: API ERROR"; statusEl.style.color = "var(--red)"; }
            }
        }


        function toggleSidebar() {
            document.getElementById('sidebar').classList.toggle('open');
            document.getElementById('overlay').classList.toggle('active');
        }

        function toggleTheme() {
            const body = document.body;
            const isDark = body.getAttribute('data-theme') === 'dark';
            body.setAttribute('data-theme', isDark ? 'light' : 'dark');
            document.getElementById('theme-icon').classList.replace(isDark ? 'fa-moon' : 'fa-sun', isDark ? 'fa-sun' : 'fa-moon');
            document.getElementById('theme-text').innerText = isDark ? 'Light Mode' : 'Dark Mode';
        }


        new TradingView.widget({ "autosize": true, "symbol": "NASDAQ:AAPL", "interval": "D", "theme": "dark", "container_id": "tradingview_chart_overview", "allow_symbol_change": true });
        new TradingView.widget({ "autosize": true, "symbol": "NASDAQ:TSLA", "interval": "D", "theme": "dark", "container_id": "tradingview_chart_full", "allow_symbol_change": true });

        setInterval(fetchRealPrices, 20000);
        fetchRealPrices();
    </script>
</body>

</html>